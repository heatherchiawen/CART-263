# Template p5 project

Heather Chester 
CART 263 
Lee Wilkins 
April 21, 2024 

Final Project: Gestured Sounds

For my final project, I proposed to build a sound visualizing program with ml5 Handpose and p5.js. In my proposal prototype, I used ten thousand particles responding to the detection of a hand, mapped to sounds along the canvas. In this final version, I created 20 ellipses with an in-class oscillator that produces specific sounds simultaneously with the event, responding to four hand poses. To do this, I used the handpose annotations for the tips of the thumb, index, middle, ring, and pinky to determine gestures the pre-trained model would recognize. I then created the ellipse object class to perform event functions based on recognized gestures. Within this object class’ event functions, I used vectors with the lerp() function to create new data points on the projected targets that apply linear interpolation for class objects to gravitate to, essentially highlighting paths used for events. Additionally, since these are no longer particles, the title is now "Gestured Sounds," rather than "Particle Board to accurately reflect the current program. 

There are four events, three of which are located within the ball class: orbiting(), square(), and center(). Although there was no rational reason for how the gestures relate to the events, the thumb, as the most rotund finger, seemed reasonable to represent a square. This event creates vectors on four points in a square formation on the canvas. Using p5.Vector.dist(), the event measures the distance between the position of the circles and the corner vectors, if the distance is less than a quarter of the canvas both by width and height, they would gravitate to the vector points. The center event represents the index, the finger most often used for pointing, emphasizing something specific. In this case, a central point on the canvas. The operation of this event is fairly simple since there is only one point on the canvas where the objects would need to gravitate. The orbit formation responds to the open hand gesture, which seemed somewhat fitting as a magical element often seen in the sci-fi genre. This event operates by creating an orbit point on the canvas, adding the radius, and multiplying it by cos() and sin() with the angle to create the orbit path. The angle offset is multiplied by the angle to create distance between each ellipse when orbiting (please see attestation below).  Lastly, the x-formation which appears within the main program, uses the iterator within the array for-loop and, with if-statements, checks if the object in the array is listed as an odd or even number. Within this check, two points are listed for the y-coordinate of the new vector used for lerp(), creating the x formation. Representing the x, the “pinky promise” came to mind with its visual similarity to the angles created by crossed pinky fingers.

Referenced in my proposal and prototype, I wanted to create a program similar to the Chlandi plate. After a review of my prototype, I was advised that the ten thousand points used to create particles were likely overloading the program, causing lagging. Although I swapped the ten thousand points for 20 ellipses, the lagging persisted when applying the user's video which I believe could be the fault of the library's limitations and/or my computer's lack of strength. Despite the program performing seemingly fine when only displaying the user's video or the ball’s display, movement with velocity, and event functions, when adding just hand gestures with the user video or just video with the functions, the lagging became more than evident. Although I did work based on the advised solution which was to develop each component of the program individually so that they could later be pieced together more logically and efficiently, using mouseIsPressed for building the ball rather than gestures, even with only four hand poses and events my computer would significantly overheat. Though I had hoped that documentation online for ml5 handpose would offer insight on how to solve this issue and further other aspects of my program with either examples or methods, aside from those that mapped key points, there was a lack of such. Looking for specific gestures that might be outlined by or with the pre-trained model’s library that seemingly does not exist, I used the comparative measurements of the fingertips to define my program’s handpose gestures. Additionally, with no solution to the program’s power over-consumption, I instead struggled to keep my computer from heat damage while attempting to ensure all components worked together.

While I wanted to take the time for this final project to create something more abstract and experimental than I'm typically used to, I found that the time spent experimenting was more so directed at navigating these many issues I had.  Despite that, I managed to tackle the anticipated challenges outlined in my proposal document such as; controlling the array of objects to land on a specific point on the canvas with lerp() and sound clarity with the amp’s parameters for “ramp” and “time from now.” It also seems significant to note that the frequency typically used for Chlandi plates is a lot higher that what is featured in this porgram. Nevertheless, considering the issues, my sanity, and my computer's health, in hindsight, I probably would have been better off tackling the furthering of a different exercise. All that said, I enjoyed working with vectors and their various methods since that was a relatively new concept to me. 
 
Barr, Pippin. “Bubble-Popper," GitHub and VS Code, Concordia University. Last modified 2022. 
https://github.com/pippinbarr/cart263/blob/91f72416b264f8c5a74196827b45d0e6fb78b40e/examples/ai/bubble-popper/js/script.js/.

Barr, Pippin. "ml5.js: Handpose," in “AI Learning Materials,” CART 263 - Creative Computation II - Winter 2024. Last accessed April 21, 2024. https://pippinbarr.com/cart263/topics/ai/ml5js-handpose.html. 

Yu, Faith. “Lecture 6 - orbit,” p5.js. Last accessed April 21, 2024. 
https://editor.p5js.org/faithyu/sketches/S14D5MSUb.  

2sman, “odd or even,” p5js. Last accessed April 21, 2024. 
https://editor.p5js.org/2sman/sketches/BJcff_nnW. 